<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>index</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css">



 <!-- 				stylesheet 				-->
  <link rel="stylesheet" href="./CSS/global.css">
  <link rel="stylesheet" href="./CSS/connexion.css">
  <link rel="stylesheet" href="./CSS/accueil.css">
  <link rel="stylesheet" href="./CSS/admin.css">
  <link rel="stylesheet" href="./CSS/salles.css">
  <link rel="stylesheet" href="./CSS/header.css">
<!-- 				SCRIPTS				 -->
  <script src="https://npmcdn.com/vue/dist/vue.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.6.0/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.6.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.9/firebase-auth.js"></script>
  <!-- <script src="https://www.gstatic.com/firebasejs/5.6.0/firebase-firestore.js"></script> -->
  <script src="./JS/conf_firebase.js"></script>
  <script src="./JS/fctsFirebase.js"></script>
  <script src="./JS/graphes.js"></script>
<!-- 				HIGHCHARTS 				-->
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>

			<!-- Additional files for the Highslide popup effect -->
<script src="https://www.highcharts.com/media/com_demo/js/highslide-full.min.js"></script>
<script src="https://www.highcharts.com/media/com_demo/js/highslide.config.js" charset="utf-8"></script>
<link rel="stylesheet" type="text/css" href="https://www.highcharts.com/media/com_demo/css/highslide.css" />

<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBo63Tx09gzjbjNgQ76neGSNHalvpLeorY",
    authDomain: "interface-ludinord.firebaseapp.com",
    databaseURL: "https://interface-ludinord.firebaseio.com",
    projectId: "interface-ludinord",
    storageBucket: "interface-ludinord.appspot.com",
    messagingSenderId: "965924361390"
  };
  firebase.initializeApp(config);
</script>

</head>

<body>

<div id="navigation"></div>

	<div id="connexion">
		<template  v-if="showConnexion">
			<div id="Ludinord">
				<img src="./Ressources/logo-fedejeux.png" id="fedejeux">
				<img src="./Ressources/jeux-societe-android.jpg" id="fond">
				<h1>LUDINORD 2019</h1>
			</div>	
<!-- Form de connexion: partie inférieure de la page 
Avec l'utilisation de v-model pour récupérer les identifiants et mot de passe de l'utilisateur. Le form fait appel à la fonction "seConnecter" pour vérifier que cet utilisateur existe bien. -->
			<div id="identification">
				<form>
					<input type="text" class="zone" id="login" placeholder="Identifiant" v-model.lazy='user.identifiant' /><br />
					<input type="password" class="zone" id="passe" placeholder="Mot de passe" v-model.lazy='user.mdp'/><br />
					<div onclick="seConnecter" class="btn btn-primary" id="action">CONNEXION</div>
				</form>
                <!-- Lien pour reset le mot de passe pas mail : pour ce faire il faut remplir l'identifiant avec un mail qui est un identifiant existant dans la base de donnée. <div @click="CONNEXION.restetMdp()"> Mot de Passe oublié ? </div> -->
			</div>
			<!-- <div onclick="NAV.toConnexion()" class="btn btn-primary lien" id="deco">Déconnexion</div> -->
			<div class="btn btn-primary lien" id="deco">Mot de passe oublié ?</div>
		</template>
	</div>

	<!-- tenez bien une incrémentation claire (trop de sauts de lignes, div pas claires etc...) -->


	<div id="header" onclick="NAV.toAccueil()">
		<template v-if="showHeader">
			<!-- <div onclick="NAV.toAccueil()"> Retour à l'accueil </div> -->
			<div>
				<img src="./Ressources/logo-ludinord.png" class="logo-entete" id="Ld"> 
				<img src="./Ressources/Association Fédéjeux.png" class="logo-entete" id="Af">
			</div>
		</template>
	</div>

	<!-- tenez bien une incrémentation claire (trop de sauts de lignes, div pas claires etc...) -->

	<div class="container" id="accueil">
		<template v-if="showAccueil">
			<div class="row text-center"> 
				<div class="col-xs-12 col-sm-6">
					<div id="blocTot">
            			<h1 class="text-center" id="AffluenceTotale">AFFLUENCE TOTALE</h1>
            			<h1> AFFLUENCE TOTALE </h1>
            {{affluenceTotale()}} festivaliers -
            {{pourcentageTotal()}}%
            		</div>
          		</div>
        	</div>
        	<div class="row" id="bouton-partie1">
        		<div class="col-sm-3 col-xs-6">
        			<div class="bouton gauche haut" id="FORT" onclick = "NAV.toSalles()" :style="myStyle('salle1')">
                 		<h1 class="nom text-center ">SALLE DU FORT - {{pourcentage('salle1')}}%</h1>
                		<img src="./Ressources/sand-castle.png" class="icone salle">
                		<h5>0%</h5>
              		</div>
            	</div>
            	<div class="col-sm-3 col-xs-6">
              		<div class="bouton droite haut" id="MONTAIGNE" onclick = "NAV.toSalles();" :style="myStyle('salle2')">
                		<h1 class="nom text-center ">SALLE MONTAIGNE - {{pourcentage('salle2')}}%</h1>
                		<img src="./Ressources/students-cap.png" class="icone salle">
                		<h5>0%</h5>
              		</div>
            	</div>
            </div>
            <div class="row" id="bouton-partie2">
          		<div class="col-sm-3 col-xs-6">
              		<div class="bouton gauche bas" id="CHAPITEAU" onclick = "NAV.toSalles()" :style="myStyle('salle3')">
                		<h1 class="nom text-center">CHAPITEAU - {{pourcentage('salle3')}}%</h1>
                		<img src="./Ressources/park-tent-of-a-circus.png" class="icone salle">
                		<h5>0%</h5>
              		</div>
          		</div>
          		<div class="col-sm-3 col-xs-6">
              		<div class="bouton text-center droite bas" id="ADMINISTRATION" onclick = "NAV.toAdmin()">
                		<h1 class="nom">PAGE D'ADMINISTRATION</h1>
                		<img src="./Ressources/settings.png" class="icone">
              		</div>
          		</div>
        	</div>
        	<div onclick="NAV.toConnexion()" class="btn btn-primary lien" id="deco">Déconnexion</div>
        </template>
  	</div>


	<!-- tenez bien une incrémentation claire (trop de sauts de lignes, div pas claires etc...) -->

	<div id="admin">
		<template v-if="showAdmin">
			<div onclick="NAV.toAccueil()" class="btn btn-primary" id="retourAcc"> < <u>Retour à l'accueil</u> </div>
			<h1 class="text-center" id="titreAdmin">Page d'administration</h1>
			<div class="container" id="remiseZero">
       			<form action="remiseAZero">
          			<div class="row" id="cocherSalles"> 
            			<div class="col-sm-2 col-xs-4">
              				<div class="form-check text-center coche" id="CheckMontaigne"> 
                				<p>Salle Montaigne</p> 
                				<input type="checkbox" class="form-check-input"></input>   </div> </div>
            			<div class="col-sm-2 col-xs-4">
              				<div class="form-check text-center coche" id="CheckFort"> 
                				<p> Salle du Fort</p> 
                				<input type="checkbox" class="form-check-input"></input>    </div> </div>
            			<div class="col-sm-2 col-xs-4">  
              				<div class="form-check text-center coche" id="CheckChapiteau">
                				<p>Le Chapiteau</p> 
                				<input type="checkbox" class="form-check-input"></input>   </div> </div> </div>
          			<div class="btn btn-primary validation" id="RAZ">REMISE A ZERO</div>
        		</form>
      		</div>
			<div id="separation"> </div>
      		<div id="modifData">
        		<form action="modifData">
        		<table>
            			<tr>  
            				<td>&nbsp;</td> <td class="zoneText tp elt">Seuil</td>  <td class="zoneText tp elt">Capacité</t> </tr>
            			<tr> <td>Salle du Fort</td>
                <td><input type="text" id='seuil1' v-model.number="parametres.salle1.seuil"></td>
                  <td><input type="text" id='cap1' v-model.number="parametres.salle1.capacité"></td>  </tr>
                  <tr>  <td>Salle Montaigne</td>
                <td><input type="text" id='seuil2' v-model.number="parametres.salle2.seuil"></td>
                <td><input type="text" id='cap2' v-model.number="parametres.salle2.capacité"></td>  </tr>
                  <tr>  <td>Le Chapiteau</td>
                <td><input type="text" id='seuil3' v-model.number="parametres.salle3.seuil"></td>
                  <td><input type="text" id='cap3' v-model.number="parametres.salle3.capacité"></td>  </tr>
        		</table>
        		<div class="btn btn-primary validation" id="save">ENREGISTREMENT</div>
        		</form>
      		</div>
      		<div onclick="NAV.toConnexion()" class="btn btn-primary lien" id="deco">Déconnexion</div>
    	</template>
  	</div>


	<!-- tenez bien une incrémentation claire (trop de sauts de lignes, div pas claires etc...) -->

	<div id="salles" > 
		<template v-if="showSalles">
			<div onclick="NAV.toAccueil()" class="btn btn-primary" id="retourAcc"> < <u>Retour à l'accueil</u> </div>
			<h1 class="text-center" id="titreSalle"> AFFLUENCE - {{ salle }} Salle du Fort <img src="imageDeLaSalle"/> </h1>
			<div class="container">
				<div class="row" id="affluences"> 
            		<div class="col-sm-2 col-xs-6 text-center" id="actuelle">					
			           		<span> Affluence actuelle </span> {{ affluence }} <p>867</p>		      		
			       	</div>
			       	<div class="col-sm-2 col-xs-6">
		        		<div id="totale" class="text-center">
		           			<span> Affluence totale </span> {{ limite }} <p>1437</p>
		        		</div>		
		        	</div>
		    	</div>
		    	<div class="row" id="graph">
		    		<div class="col-xs-12 col-sm-6">
		    			<div class="text-center" id="blocGraph">Evolution de l'affluence sur les dernières heures</div>
		    		<!-- Graphique -->
		    		</div>
		    	</div>
		    	<div class="row" id="tauxLimites">
					<div class="col-xs-2">
		            	<img src="./ressources/WARNING.png" class="warn">
		            </div>
		            <div class="col-xs-10" id="infos">
			            <!--
		    	        <h2>Capacité maximale : {{ parametres.salle.capacité }} </h2>
		        	    <h2>Seuil d'alerte : {{ parametres.salle.seuil }} </h2>
		        		-->
		            	<h2>Capacité maximale : 800</h2>
		            	<h2>Seuil d'alerte : 700</h2>
		    		</div> 
		    	</div>	
	    	<div onclick="NAV.toAdmin()" class="btn btn-primary lien" id="lienAdmin">Page d'administration</div>
	    	<div onclick="NAV.toConnexion()" class="btn btn-primary lien" id="lienDeco">Déconnexion</div>
    	</template>
    </div>



		<template v-if="showSalles">  
	  		<div id="contenu">

		        <div class="titre" :style="myStyle(salle)"> 
		            AFFLUENCE - {{ salle }} <img src="imageDeLaSalle"/>
		        </div>

		        <div id="affluences">
			        <div id="actuelle">
			            <span> Affluence actuelle </span> {{ affluence }} 
			        </div>

			        <div id="totale">
			           <span> Affluence totale </span> {{ limite }} 
			        </div>
		        </div>
		        <div id="container" style="width:100%; height:400px;"></div>


	        	<!-- Graphique -->
			        <div id="tauxLimites">
		            <img src="ressources/WARNING.png"/>
		            <div class="alerte"> Capacité maximale : {{ valeurMax }}</div>
		            <div class="alerte"> seuil d'alerte : {{ valeurAlerte }}</div>
		        </div>
		    </div>
	    </template>
	</div>    

	     
	<!-- tenez bien une incrémentation claire (trop de sauts de lignes, div pas claires etc...) -->
	        
<div id="footer">
	
</div>

<script src="./JS/navigation.js"></script>
<script src="./JS/connexion.js"></script>
<script src="./JS/accueil.js"></script>
<script src="./JS/admin.js"></script>
<script src="./JS/salles.js"></script>
<script src="./JS/header.js"></script>

</body>
</html>
